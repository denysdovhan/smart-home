(function(){"use strict";function a(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function b(b){for(var d,e=1;e<arguments.length;e++)d=null==arguments[e]?{}:arguments[e],e%2?a(Object(d),!0).forEach(function(a){c(b,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(d)):a(Object(d)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(d,a))});return b}function c(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function d(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function e(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function f(a){return function(){var b=this,c=arguments;return new Promise(function(d,f){function g(a){e(i,d,f,g,h,"next",a)}function h(a){e(i,d,f,g,h,"throw",a)}var i=a.apply(b,c);g(void 0)})}}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;(function(a){"function"==typeof define&&define.amd?define(a):a()})(function(){function a(a,b){for(var{element:{content:d},parts:c}=a,e=document.createTreeWalker(d,133,null,!1),f=aa(c),g=c[f],h=-1,i=0,j=[],k=null;e.nextNode();){h++;var l=e.currentNode;for(l.previousSibling===k&&(k=null),b.has(l)&&(j.push(l),null===k&&(k=l)),null!==k&&i++;g!==void 0&&g.index===h;)g.index=null===k?g.index-i:-1,f=aa(c,f),g=c[f]}j.forEach(a=>a.parentNode.removeChild(a))}function c(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,{element:{content:e},parts:d}=a;if(null===c||void 0===c)return void e.appendChild(b);for(var f=document.createTreeWalker(e,133,null,!1),g=aa(d),h=0,i=-1;f.nextNode();){i++;var j=f.currentNode;for(j===c&&(h=_(b),c.parentNode.insertBefore(b,c));-1!==g&&d[g].index===i;){if(0<h){for(;-1!==g;)d[g].index+=h,g=aa(d,g);return}g=aa(d,g)}}}function e(a){var b=va.get(a.type);void 0===b&&(b={stringsArray:new WeakMap,keyString:new Map},va.set(a.type,b));var c=b.stringsArray.get(a.strings);if(void 0!==c)return c;var d=a.strings.join(S);return c=b.keyString.get(d),void 0===c&&(c=new W(a,a.getTemplateElement()),b.keyString.set(d,c)),b.stringsArray.set(a.strings,c),c}var Q="undefined"!=typeof window&&null!=window.customElements&&window.customElements.polyfillWrapFlushCallback!==void 0,R=function(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;b!==c;){var d=b.nextSibling;a.removeChild(b),b=d}},S="{{lit-".concat((Math.random()+"").slice(2),"}}"),T="<!--".concat(S,"-->"),U=new RegExp("".concat(S,"|").concat(T)),V="$lit$";class W{constructor(a,b){this.parts=[],this.element=b;for(var c,d=[],e=[],f=document.createTreeWalker(b.content,133,null,!1),g=0,h=-1,j=0,{strings:k,values:{length:l}}=a;j<l;){if(c=f.nextNode(),null===c){f.currentNode=e.pop();continue}if(h++,1===c.nodeType){if(c.hasAttributes()){for(var m=c.attributes,{length:o}=m,p=0,q=0;q<o;q++)X(m[q].name,V)&&p++;for(;0<p--;){var r=k[j],t=$.exec(r)[2],u=t.toLowerCase()+V,v=c.getAttribute(u);c.removeAttribute(u);var C=v.split(U);this.parts.push({type:"attribute",index:h,name:t,strings:C}),j+=C.length-1}}"TEMPLATE"===c.tagName&&(e.push(c),f.currentNode=c.content)}else if(3===c.nodeType){var D=c.data;if(0<=D.indexOf(S)){for(var w=c.parentNode,x=D.split(U),y=x.length-1,z=0;z<y;z++){var A=void 0,B=x[z];if(""===B)A=Z();else{var E=$.exec(B);null!==E&&X(E[2],V)&&(B=B.slice(0,E.index)+E[1]+E[2].slice(0,-V.length)+E[3]),A=document.createTextNode(B)}w.insertBefore(A,c),this.parts.push({type:"node",index:++h})}""===x[y]?(w.insertBefore(Z(),c),d.push(c)):c.data=x[y],j+=y}}else if(8===c.nodeType)if(c.data===S){var F=c.parentNode;(null===c.previousSibling||h===g)&&(h++,F.insertBefore(Z(),c)),g=h,this.parts.push({type:"node",index:h}),null===c.nextSibling?c.data="":(d.push(c),h--),j++}else for(var G=-1;-1!==(G=c.data.indexOf(S,G+1));)this.parts.push({type:"node",index:-1}),j++}for(var H of d)H.parentNode.removeChild(H)}}var X=(a,b)=>{var c=a.length-b.length;return 0<=c&&a.slice(c)===b},Y=a=>-1!==a.index,Z=()=>document.createComment(""),$=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,_=a=>{for(var b=11===a.nodeType?0:1,c=document.createTreeWalker(a,133,null,!1);c.nextNode();)b++;return b},aa=function(a){for(var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,d=c+1;d<a.length;d++)if(b=a[d],Y(b))return d;return-1},ba=new WeakMap,ca=a=>function(){var b=a(...arguments);return ba.set(b,!0),b},da=a=>"function"==typeof a&&ba.has(a),ea={},fa={};class ga{constructor(a,b,c){this.__parts=[],this.template=a,this.processor=b,this.options=c}update(a){var b=0;for(var c of this.__parts)void 0!==c&&c.setValue(a[b]),b++;for(var d of this.__parts)void 0!==d&&d.commit()}_clone(){for(var a,b=Q?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),c=[],d=this.template.parts,e=document.createTreeWalker(b,133,null,!1),f=0,g=0,h=e.nextNode();f<d.length;){if(a=d[f],!Y(a)){this.__parts.push(void 0),f++;continue}for(;g<a.index;)g++,"TEMPLATE"===h.nodeName&&(c.push(h),e.currentNode=h.content),null===(h=e.nextNode())&&(e.currentNode=c.pop(),h=e.nextNode());if("node"===a.type){var i=this.processor.handleTextExpression(this.options);i.insertAfterNode(h.previousSibling),this.__parts.push(i)}else this.__parts.push(...this.processor.handleAttributeExpressions(h,a.name,a.strings,this.options));f++}return Q&&(document.adoptNode(b),customElements.upgrade(b)),b}}var ha=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),ia=" ".concat(S," ");class ja{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){for(var a=this.strings.length-1,b="",c=!1,d=0;d<a;d++){var e=this.strings[d],f=e.lastIndexOf("<!--");c=(-1<f||c)&&-1===e.indexOf("-->",f+1);var g=$.exec(e);b+=null===g?e+(c?ia:T):e.substr(0,g.index)+g[1]+g[2]+V+g[3]+S}return b+=this.strings[a],b}getTemplateElement(){var a=document.createElement("template"),b=this.getHTML();return void 0!==ha&&(b=ha.createHTML(b)),a.innerHTML=b,a}}var ka=a=>null===a||"object"!=typeof a&&"function"!=typeof a,la=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class ma{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(var d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new na(this)}_getValue(){var a=this.strings,b=a.length-1,c=this.parts;if(1===b&&""===a[0]&&""===a[1]){var f=c[0].value;if("symbol"==typeof f)return f+"";if("string"==typeof f||!la(f))return f}for(var d="",e=0;e<b;e++){d+=a[e];var g=c[e];if(void 0!==g){var h=g.value;if(ka(h)||!la(h))d+="string"==typeof h?h:h+"";else for(var j of h)d+="string"==typeof j?j:j+""}}return d+=a[b],d}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class na{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===ea||ka(a)&&a===this.value||(this.value=a,!da(a)&&(this.committer.dirty=!0))}commit(){for(;da(this.value);){var a=this.value;this.value=ea,a(this)}this.value===ea||this.committer.commit()}}class oa{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Z()),this.endNode=a.appendChild(Z())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Z()),a.__insert(this.endNode=Z())}insertAfterPart(a){a.__insert(this.startNode=Z()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(null!==this.startNode.parentNode){for(;da(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=ea,b(this)}var a=this.__pendingValue;a===ea||(ka(a)?a!==this.value&&this.__commitText(a):a instanceof ja?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):la(a)?this.__commitIterable(a):a===fa?(this.value=fa,this.clear()):this.__commitText(a))}}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){this.value===a||(this.clear(),this.__insert(a),this.value=a)}__commitText(a){var b=this.startNode.nextSibling;a=null==a?"":a;var c="string"==typeof a?a:a+"";b===this.endNode.previousSibling&&3===b.nodeType?b.data=c:this.__commitNode(document.createTextNode(c)),this.value=a}__commitTemplateResult(a){var b=this.options.templateFactory(a);if(this.value instanceof ga&&this.value.template===b)this.value.update(a.values);else{var c=new ga(b,a.processor,this.options),d=c._clone();c.update(a.values),this.__commitNode(d),this.value=c}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());var b,c=this.value,d=0;for(var e of a)b=c[d],void 0===b&&(b=new oa(this.options),c.push(b),0===d?b.appendIntoPart(this):b.insertAfterPart(c[d-1])),b.setValue(e),b.commit(),d++;d<c.length&&(c.length=d,this.clear(b&&b.endNode))}clear(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;R(this.startNode.parentNode,a.nextSibling,this.endNode)}}class pa{constructor(a,b,c){if(this.value=void 0,this.__pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this.__pendingValue=a}commit(){for(;da(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=ea,b(this)}if(this.__pendingValue!==ea){var a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=ea}}}class qa extends ma{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new ra(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class ra extends na{}var sa=!1;(()=>{try{var a={get capture(){return sa=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class ta{constructor(a,b,c){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this.__boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this.__pendingValue=a}commit(){for(;da(this.__pendingValue);){var d=this.__pendingValue;this.__pendingValue=ea,d(this)}if(this.__pendingValue!==ea){var a=this.__pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),null!=a&&(null==b||c)&&(this.__options=ua(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=ea}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}var ua=a=>a&&(sa?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),va=new Map,wa=new WeakMap,xa=(a,b,c)=>{var d=wa.get(b);d===void 0&&(R(b,b.firstChild),wa.set(b,d=new oa(Object.assign({templateFactory:e},c))),d.appendInto(b)),d.setValue(a),d.commit()};var ya=new class{handleAttributeExpressions(a,b,c,d){var e=b[0];if("."===e){var g=new qa(a,b.slice(1),c);return g.parts}if("@"===e)return[new ta(a,b.slice(1),d.eventContext)];if("?"===e)return[new pa(a,b.slice(1),c)];var f=new ma(a,b,c);return f.parts}handleTextExpression(a){return new oa(a)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var za=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new ja(a,c,"html",ya)},Aa=(a,b)=>"".concat(a,"--").concat(b),Ba=!0;"undefined"==typeof window.ShadyCSS?Ba=!1:"undefined"==typeof window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Ba=!1);var Ca,Da=a=>b=>{var c=Aa(b.type,a),d=va.get(c);void 0===d&&(d={stringsArray:new WeakMap,keyString:new Map},va.set(c,d));var e=d.stringsArray.get(b.strings);if(void 0!==e)return e;var f=b.strings.join(S);if(e=d.keyString.get(f),void 0===e){var g=b.getTemplateElement();Ba&&window.ShadyCSS.prepareTemplateDom(g,a),e=new W(b,g),d.keyString.set(f,e)}return d.stringsArray.set(b.strings,e),e},Ea=["html","svg"],Fa=b=>{Ea.forEach(c=>{var d=va.get(Aa(c,b));d!==void 0&&d.keyString.forEach(b=>{var{element:{content:c}}=b,d=new Set;Array.from(c.querySelectorAll("style")).forEach(a=>{d.add(a)}),a(b,d)})})},Ga=new Set,Ha=(b,d,e)=>{Ga.add(b);var f=!e?document.createElement("template"):e.element,g=d.querySelectorAll("style"),{length:h}=g;if(0===h)return void window.ShadyCSS.prepareTemplateStyles(f,b);for(var j,k=document.createElement("style"),l=0;l<h;l++)j=g[l],j.parentNode.removeChild(j),k.textContent+=j.textContent;Fa(b);var m=f.content;!e?m.insertBefore(k,m.firstChild):c(e,k,m.firstChild),window.ShadyCSS.prepareTemplateStyles(f,b);var n=m.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==n)d.insertBefore(n.cloneNode(!0),d.firstChild);else if(!!e){m.insertBefore(k,m.firstChild);var o=new Set;o.add(k),a(e,o)}},Ia=(a,b,c)=>{if(!c||"object"!=typeof c||!c.scopeName)throw new Error("The `scopeName` option is required.");var d=c.scopeName,e=wa.has(b),f=Ba&&11===b.nodeType&&!!b.host,g=f&&!Ga.has(d),h=g?document.createDocumentFragment():b;if(xa(a,h,Object.assign({templateFactory:Da(d)},c)),g){var i=wa.get(h);wa.delete(h);var j=i.value instanceof ga?i.value.template:void 0;Ha(d,h,j),R(b,b.firstChild),b.appendChild(h),wa.set(b,i)}!e&&f&&window.ShadyCSS.styleElement(b.host)};window.JSCompiler_renameProperty=a=>a;var Ja={toAttribute(a,b){return b===Boolean?a?"":null:b===Object||b===Array?null==a?a:JSON.stringify(a):a},fromAttribute(a,b){return b===Boolean?null!==a:b===Number?null===a?null:+a:b===Object||b===Array?JSON.parse(a):a}},Ka=(a,b)=>b!==a&&(b===b||a===a),La={attribute:!0,type:String,converter:Ja,reflect:!1,hasChanged:Ka},Ma=1,Na=4,Oa=8,Pa=16,Qa="finalized";class Ra extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();var a=[];return this._classProperties.forEach((b,c)=>{var d=this._attributeNameForProperty(c,b);void 0!==d&&(this._attributeToPropertyMap.set(d,c),a.push(d))}),a}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var a=Object.getPrototypeOf(this)._classProperties;a!==void 0&&a.forEach((a,b)=>this._classProperties.set(b,a))}}static createProperty(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:La;if(this._ensureClassProperties(),this._classProperties.set(a,b),!(b.noAccessor||this.prototype.hasOwnProperty(a))){var c="symbol"==typeof a?Symbol():"__".concat(a),d=this.getPropertyDescriptor(a,c,b);void 0!==d&&Object.defineProperty(this.prototype,a,d)}}static getPropertyDescriptor(a,b,c){return{get(){return this[b]},set(d){var e=this[a];this[b]=d,this.requestUpdateInternal(a,e,c)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this._classProperties&&this._classProperties.get(a)||La}static finalize(){var a=Object.getPrototypeOf(this);if(a.hasOwnProperty(Qa)||a.finalize(),this[Qa]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var b=this.properties,c=[...Object.getOwnPropertyNames(b),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b):[])];for(var d of c)this.createProperty(d,b[d])}}static _attributeNameForProperty(a,b){var c=b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ka;return c(a,b)}static _propertyValueFromAttribute(a,b){var c=b.type,d=b.converter||Ja,e="function"==typeof d?d:d.fromAttribute;return e?e(a,c):a}static _propertyValueToAttribute(a,b){if(void 0!==b.reflect){var c=b.type,d=b.converter,e=d&&d.toAttribute||Ja.toAttribute;return e(a,c)}}initialize(){this._updateState=0,this._updatePromise=new Promise(a=>this._enableUpdatingResolver=a),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((a,b)=>{if(this.hasOwnProperty(b)){var c=this[b];delete this[b],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(b,c)}})}_applyInstanceProperties(){this._instanceProperties.forEach((a,b)=>this[b]=a),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:La,d=this.constructor,e=d._attributeNameForProperty(a,c);if(e!==void 0){var f=d._propertyValueToAttribute(b,c);if(f===void 0)return;this._updateState|=Oa,null==f?this.removeAttribute(e):this.setAttribute(e,f),this._updateState&=~Oa}}_attributeToProperty(a,b){if(!(this._updateState&Oa)){var c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){var e=c.getPropertyOptions(d);this._updateState|=Pa,this[d]=c._propertyValueFromAttribute(b,e),this._updateState&=~Pa}}}requestUpdateInternal(a,b,c){var d=!0;if(a!==void 0){var e=this.constructor;c=c||e.getPropertyOptions(a),e._valueHasChanged(this[a],b,c.hasChanged)?(!this._changedProperties.has(a)&&this._changedProperties.set(a,b),!0===c.reflect&&!(this._updateState&Pa)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,c))):d=!1}!this._hasRequestedUpdate&&d&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(a,b){return this.requestUpdateInternal(a,b),this.updateComplete}_enqueueUpdate(){var a=this;return f(function*(){a._updateState|=Na;try{yield a._updatePromise}catch(a){}var b=a.performUpdate();return null!=b&&(yield b),!a._hasRequestedUpdate})()}get _hasRequestedUpdate(){return this._updateState&Na}get hasUpdated(){return this._updateState&Ma}performUpdate(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var a=!1,b=this._changedProperties;try{a=this.shouldUpdate(b),a?this.update(b):this._markUpdated()}catch(b){throw a=!1,this._markUpdated(),b}a&&(!(this._updateState&Ma)&&(this._updateState|=Ma,this.firstUpdated(b)),this.updated(b))}}_markUpdated(){this._changedProperties=new Map,this._updateState&=~Na}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){this._reflectingProperties!==void 0&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach((a,b)=>this._propertyToAttribute(b,this[b],a)),this._reflectingProperties=void 0),this._markUpdated()}updated(){}firstUpdated(){}}Ca=Qa,Ra[Ca]=!0;var Sa=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ta=Symbol();class Ua{constructor(a,b){if(b!==Ta)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){return void 0===this._styleSheet&&(Sa?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}var Va=a=>new Ua(a+"",Ta),Wa=a=>{if(a instanceof Ua)return a.cssText;if("number"==typeof a)return a;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(a,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))},Xa=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=c.reduce((b,c,d)=>b+Wa(c)+a[d+1],a[0]);return new Ua(e,Ta)};(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");var Ya={};class Za extends Ra{static getStyles(){return this.styles}static _getUniqueStyles(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var a=this.getStyles();if(Array.isArray(a)){var b=(a,c)=>a.reduceRight((a,c)=>Array.isArray(c)?b(c,a):(a.add(c),a),c),c=b(a,new Set),d=[];c.forEach(a=>d.unshift(a)),this._styles=d}else this._styles=void 0===a?[]:[a];this._styles=this._styles.map(a=>{if(a instanceof CSSStyleSheet&&!Sa){var b=Array.prototype.slice.call(a.cssRules).reduce((a,b)=>a+b.cssText,"");return Va(b)}return a})}}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){var a=this.constructor._styles;0===a.length||(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow?Sa?this.renderRoot.adoptedStyleSheets=a.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(a.map(a=>a.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(a){var b=this.render();super.update(a),b!==Ya&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(a=>{var b=document.createElement("style");b.textContent=a.cssText,this.renderRoot.appendChild(b)}))}render(){return Ya}}Za.finalized=!0,Za.render=Ia,Za.shadowRootOptions={mode:"open"};class $a{constructor(a){this.classes=new Set,this.changed=!1,this.element=a;var b=(a.getAttribute("class")||"").split(/\s+/);for(var c of b)this.classes.add(c)}add(a){this.classes.add(a),this.changed=!0}remove(a){this.classes.delete(a),this.changed=!0}commit(){if(this.changed){var a="";this.classes.forEach(b=>a+=b+" "),this.element.setAttribute("class",a)}}}var ab=new WeakMap,bb=ca(a=>b=>{if(!(b instanceof na)||b instanceof ra||"class"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var{committer:c}=b,{element:d}=c,e=ab.get(b);void 0===e&&(d.setAttribute("class",c.strings.join(" ")),ab.set(b,e=new Set));var f=d.classList||new $a(d);for(var g in e.forEach(b=>{b in a||(f.remove(b),e.delete(b))}),a){var h=a[g];h!=e.has(g)&&(h?(f.add(g),e.add(g)):(f.remove(g),e.delete(g)))}"function"==typeof f.commit&&f.commit()}),cb=new WeakMap,db=ca(a=>b=>{if(!(b instanceof na)||b instanceof ra||"style"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var{committer:c}=b,{style:d}=c.element,e=cb.get(b);for(var f in void 0===e&&(d.cssText=c.strings.join(" "),cb.set(b,e=new Set)),e.forEach(b=>{b in a||(e.delete(b),-1===b.indexOf("-")?d[b]=null:d.removeProperty(b))}),a)e.add(f),-1===f.indexOf("-")?d[f]=a[f]:d.setProperty(f,a[f])}),eb=Xa(g||(g=d(["\n  :host {\n    overflow: visible !important;\n    display: block;\n    --mh-scale: var(--mini-humidifier-scale, 1);\n    --mh-unit: calc(var(--mh-scale) * 40px);\n    --mh-name-font-weight: var(--mini-humidifier-name-font-weight, 400);\n    --mh-info-font-weight: var(--mini-humidifier-info-font-weight, 300);\n    --mh-entity-info-left-offset: 8px;\n    --mh-accent-color: var(--mini-humidifier-accent-color, var(--accent-color, #f39c12));\n    --mh-text-color: var(--mini-humidifier-base-color, var(--primary-text-color, #000));\n    --mh-active-color: var(--mh-accent-color);\n    --mh-button-color: var(--mini-humidifier-button-color, var(--paper-item-icon-color, #44739e));\n    --mh-icon-color:\n      var(--mini-humidifier-icon-color,\n        var(--mini-humidifier-base-color,\n          var(--paper-item-icon-color, #44739e)));\n    --mh-icon-active-color: var(--paper-item-icon-active-color, --mh-active-color);\n    --mh-info-opacity: 1;\n    --mh-bg-opacity: var(--mini-humidifier-background-opacity, 1);\n    color: var(--mh-text-color);\n  }\n  ha-card.--group {\n    box-shadow: none;\n  }\n  ha-card.--bg {\n    --mh-info-opacity: .75;\n  }\n  ha-card {\n    cursor: default;\n    display: flex;\n    background: transparent;\n    overflow: visible;\n    padding: 0;\n    position: relative;\n    color: inherit;\n    font-size: calc(var(--mh-unit) * 0.35);\n  }\n  ha-card:before {\n    content: '';\n    padding-top: 0px;\n    transition: padding-top .5s cubic-bezier(.21,.61,.35,1);\n    will-change: padding-top;\n  }\n  header {\n    display: none;\n  }\n  .mh__bg {\n    background: var(--ha-card-background, var(--card-background-color, var(--paper-card-background-color, white)));\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    overflow: hidden;\n    -webkit-transform: translateZ(0);\n    transform: translateZ(0);\n    opacity: var(--mh-bg-opacity);\n    border-radius: var(--ha-card-border-radius, 0);\n  }\n  ha-card.--group .mh__bg {\n    background: none;\n  }\n  .mh-humidifier {\n    align-self: flex-end;\n    box-sizing: border-box;\n    position: relative;\n    padding: 16px 16px 0px 16px;\n    transition: padding .25s ease-out;\n    width: 100%;\n    will-change: padding;\n  }\n  .flex {\n    display: flex;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    flex-direction: row;\n  }\n  .mh-humidifier__core {\n    position: relative;\n    padding-right: 5px;\n  }\n  .entity__info {\n    user-select: none;\n    margin-left: var(--mh-entity-info-left-offset);\n    flex: 1;\n    min-width: 0;\n    white-space: nowrap;\n  }\n  .entity__icon {\n    color: var(--mh-icon-color);\n    white-space: nowrap;\n  }\n  .entity__icon[color] {\n    color: var(--mh-icon-active-color);\n  }\n  .entity__icon {\n    animation: fade-in .25s ease-out;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 100%;\n    height: var(--mh-unit);\n    width: var(--mh-unit);\n    min-width: var(--mh-unit);\n    line-height: var(--mh-unit);\n    margin-right: calc(var(--mh-unit) / 5);\n    position: relative;\n    text-align: center;\n    will-change: border-color;\n    transition: border-color .25s ease-out;\n  }\n  .entity__info__name {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: calc(var(--mh-unit) / 2);\n    color: var(--mh-text-color);\n    font-weight: var(--mh-name-font-weight);\n  }\n  .entity__secondary_info_icon {\n    color: var(--mh-icon-color);\n    height: calc(var(--mh-unit) * .5);\n    width: calc(var(--mh-unit) * .5);\n    min-width: calc(var(--mh-unit) * .5);\n    --mdc-icon-size: calc(var(--mh-unit) * 0.5);\n  }\n  .entity__secondary_info {\n    margin-top: -2px;\n  }\n  .entity__secondary_info ha-relative-time {\n    color: #727272;\n  }\n  .entity__secondary_info__name {\n    font-size: calc(var(--mh-unit) * .35);\n    font-weight: var(--mh-info-font-weight);\n    line-height: calc(var(--mh-unit) * .5);\n    vertical-align: middle;\n    display: inline-block;\n  }\n  ha-card.--initial .mh-humidifier {\n    padding: 16px 16px 5px 16px;\n  }\n  ha-card.--unavailable .mh-humidifier {\n    padding: 16px;\n  }\n  ha-card.--group .mh-humidifier {\n    padding: 2px 0 0 0;\n  }  \n  .toggle-button {\n    width: calc(var(--mh-unit) * .75);\n    height: calc(var(--mh-unit) * .75);\n    --mdc-icon-button-size: calc(var(--mh-unit) * .75);\n    color: var(--mh-icon-color);\n    margin-left: auto;\n    margin-top: calc(var(--mh-unit) * -.125);\n  }\n  .toggle-button.open {\n     transform: rotate(180deg);\n     color: var(--mh-active-color)\n  }\n  .wrap {\n    display: flex;\n    flex-direction: row;\n  }\n  .bottom {\n    margin-top: calc(var(--mh-unit) * .075);\n  }\n  .entity__info__name_wrap {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-right: 0;\n    max-width: calc(var(--mh-unit) * 4.25);\n    cursor: pointer;\n  }\n  .entity__info__name_wrap.full {\n    max-width: 80%;\n  }\n  .--unavailable .ctl-wrap {\n    margin-left: auto;\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n  .--unavailable .ctl-wrap .unavailable {\n    margin-left: auto;\n    margin-right: 0;\n  }\n  .--unavailable .entity__info {\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n  .mh-toggle_content {\n    margin-top: calc(var(--mh-unit) * .05);\n  }\n  mh-buttons {\n    width: 100%;\n    justify-content: space-evenly;\n    display: flex;\n  }\n  .ctl-wrap {\n    flex: 1;\n    margin-left: auto;\n    display: flex;\n    flex-direction: row;\n  }\n  mh-power {\n    margin-left: auto;\n    min-width: calc(var(--mh-unit) * .875);\n    margin-right: calc(var(--mh-unit) * -0.125);\n  }\n  mh-target-humidity {\n    display: flex;\n    flex: 1;\n  }\n"]))),fb=Xa(h||(h=d(["\n  .ellipsis {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .label {\n    margin: 0 8px;\n  }\n  ha-icon {\n    width: calc(var(--mh-unit) * .6);\n    height: calc(var(--mh-unit) * .6);\n  }\n  ha-icon-button {\n    width: calc(var(--mh-unit));\n    height: calc(var(--mh-unit));\n    --mdc-icon-button-size: calc(var(--mh-unit));\n    color: var(--mh-button-color);\n    transition: color .25s;\n  }\n  ha-icon-button[color] {\n    color: var(--mh-icon-active-color) !important;\n    opacity: 1 !important;\n  }\n  ha-icon-button[inactive] {\n    opacity: .5;\n  }\n"]))),gb=(a,c,d,f)=>{var g;if(d)switch(d.action){case"more-info":{g=new Event("hass-more-info",{composed:!0}),g.detail={entityId:d.entity||f},a.dispatchEvent(g);break}case"navigate":{if(!d.navigation_path)return;window.history.pushState(null,"",d.navigation_path),g=new Event("location-changed",{composed:!0}),g.detail={replace:!1},window.dispatchEvent(g);break}case"call-service":{if(!d.service)return;var[h,i]=d.service.split(".",2),j=b({},d.service_data);c.callService(h,i,j);break}case"url":{if(!d.url)return;window.location.href=d.url}}},hb={DEFAULT:"mdi:air-filter",FAN:"mdi:fan",HUMIDITY:"mdi:water",TEMPERATURE:"mdi:thermometer-low",DEPTH:"mdi:tray-full",WATERLEVEL:"mdi:tray-full",WATERTANKDETACHED:"mdi:tray-remove",DRY:"mdi:weather-sunny",BUZZER:"mdi:bell-outline",LEDBUTTON:"mdi:lightbulb-on-outline",CHILDLOCK:"mdi:lock",TOGGLE:"mdi:dots-horizontal",POWER:"mdi:power",TANK:"mdi:cup-water",AQI:"mdi:weather-fog",RPM:"mdi:speedometer",CO2:"mdi:molecule-co2",DISHWASHER:"mdi:dishwasher",MOTORSPEED:"mdi:fan",CLOCK:"mdi:clock-outline"},ib=["closed","locked","off"],jb=["unavailable","unknown"],kb=3500,lb=["more-info","navigate","call-service","url"],mb=["fan","humidifier"],nb=a=>a?ib.includes(a)||jb.includes(a)?ib.includes(a)&&!jb.includes(a)?"on":a:"off":a,ob=(a,b)=>a?b?b.attribute?a.attributes[b.attribute]:a.state:a.state:void 0,pb=(a,b)=>+"".concat(Math.round(+"".concat(a,"e").concat(b)),"e-").concat(b),qb=(a,b)=>{try{return new Function("","return ".concat(a.toString())).call(b||{})}catch(b){throw new Error("\n[COMPILE ERROR]: [".concat(b.toString(),"]\n[SOURCE]: ").concat(a,"\n"))}};class rb extends Za{static get properties(){return{items:[],label:String,selected:String,icon:String,active:Boolean,disabled:Boolean}}get selectedId(){return this.items.map(a=>a.id.toString().toUpperCase()).indexOf(this.selected.toString().toUpperCase())}onChange(a){var b=a.target.selected;b!==this.selectedId&&this.items[b]&&(this.dispatchEvent(new CustomEvent("change",{detail:this.items[b]})),a.target.selected=-1)}render(){return za(i||(i=d(["\n      <paper-menu-button\n        class='mh-dropdown'\n        noink no-animations\n        .horizontalAlign=","\n        .verticalAlign=","\n        .verticalOffset=","\n        .dynamicAlign=","\n        ?disabled=","\n        @click=",">\n        <ha-icon-button class='mh-dropdown__button icon' slot='dropdown-trigger'\n          .icon=","\n          ?disabled=","\n          ?color=",">\n        </ha-icon-button>\n        <paper-listbox slot=\"dropdown-content\" .selected="," @iron-select=",">\n          ","\n        </paper-listbox>\n      </paper-menu-button>\n    "])),"right","top",44,!0,this.disabled,a=>a.stopPropagation(),this.icon,this.disabled,this.active,this.selectedId,this.onChange,this.items.map(a=>za(j||(j=d(["\n            <paper-item value=",">\n              <span class='mh-dropdown__item__label'>","</span>\n            </paper-item>"])),a.id||a.name,a.name)))}static get styles(){return[fb,Xa(k||(k=d(["\n        :host {\n          position: relative;\n          overflow: hidden;\n          --paper-item-min-height: 40px;\n        }\n        paper-menu-button\n        :host([disabled]) {\n          opacity: .25;\n          pointer-events: none;\n        }\n        :host([faded]) {\n          opacity: .75;\n        }\n        .mh-dropdown {\n          padding: 0;\n          display: block;\n        }\n        ha-icon-button[disabled] {\n          opacity: .25;\n          pointer-events: none;\n        }\n        .mh-dropdown__button.icon {\n          margin: 0;\n        }\n        ha-icon-button {\n          width: calc(var(--mh-dropdown-unit));\n          height: calc(var(--mh-dropdown-unit));\n          --mdc-icon-button-size: calc(var(--mh-dropdown-unit));\n        }\n        paper-item > *:nth-child(2) {\n          margin-left: 4px;\n        }\n        paper-menu-button[focused] ha-icon-button {\n          color: var(--mh-accent-color);\n        }\n        paper-menu-button[focused] ha-icon-button[focused] {\n          color: var(--mh-text-color);\n          transform: rotate(0deg);\n        }\n      "])))]}}customElements.define("mh-dropdown-base",rb);class sb extends Za{constructor(){super(),this.dropdown={},this.timer=void 0,this._state=void 0}static get properties(){return{dropdown:{type:Object}}}handleChange(a){var b=this;a.stopPropagation();var c=a.detail.id,{entity:d}=this.dropdown;return this._state=c,this.dropdown.handleChange(c),clearTimeout(this.timer),this.timer=setTimeout(f(function*(){if(b.dropdown.entity===d)return b._state=void 0!==b.dropdown.state&&null!==b.dropdown.state?b.dropdown.state.toString():"",b.requestUpdate("_state")}),this.dropdown.actionTimeout),this.requestUpdate("_state")}render(){return clearTimeout(this.timer),za(l||(l=d(["\n      <mh-dropdown-base\n        style=","\n        @change=","\n        .items=","\n        .icon=","\n        .disabled=\"","\"\n        .active=","\n        .selected=",">\n      </mh-dropdown-base>\n    "])),db(this.dropdown.style),a=>this.handleChange(a),this.dropdown.source,this.dropdown.icon,this.dropdown.disabled,this.dropdown.isActive(this._state),this._state)}updated(a){if(a.has("dropdown"))return this._state=void 0!==this.dropdown.state&&null!==this.dropdown.state?this.dropdown.state.toString():"",clearTimeout(this.timer),this.requestUpdate("_state")}static get styles(){return[fb,Xa(m||(m=d(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n        --paper-item-min-height: var(--mh-unit);\n        --mh-dropdown-unit: var(--mh-unit);\n      }\n      :host([color]) {\n        background: var(--mh-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n    "])))]}}customElements.define("mh-dropdown",sb);class tb extends Za{static get properties(){return{indicators:{}}}handlePopup(a,b){a.stopPropagation(),gb(this,b.hass,b.config.tap_action,b.entity.entity_id)}renderIcon(a){var{icon:b}=a;return b?za(n||(n=d(["<ha-icon style="," class='state__value_icon' .icon=","></ha-icon>"])),db(a.iconStyle),b):""}renderUnit(a){return a?za(o||(o=d(["<span class='state__uom'>","</span>"])),a):""}renderIndicator(a){if(!a)return"";var b=a.config&&a.config.tap_action&&a.config.tap_action.action,c=b&&lb.includes(b)?"pointer":"";return za(p||(p=d(["\n       <div class='state ","' @click=",">\n         ","\n         <span class='state__value'>","</span>\n         ","\n       </div>\n    "])),c,b=>this.handlePopup(b,a),this.renderIcon(a),a.value,this.renderUnit(a.unit))}render(){var a=this;return za(q||(q=d(["\n     <div class='mh-indicators__container'>\n       ","\n     </div>\n    "])),Object.entries(this.indicators).map(a=>a[1]).filter(a=>!a.hide).sort((c,a)=>c.order>a.order?1:a.order>c.order?-1:0).map(b=>a.renderIndicator(b)))}static get styles(){return Xa(r||(r=d(["\n     :host {\n        position: relative;\n        box-sizing: border-box;\n        font-size: calc(var(--mh-unit) * .35);\n        line-height: calc(var(--mh-unit) * .35);\n      }\n     .mh-indicators__container {\n       display: flex;\n       flex-wrap: wrap;\n       margin-right: calc(var(--mh-unit) * .075);\n     }\n     .state {\n        position: relative;\n        display: flex;\n        flex-wrap: nowrap;\n        margin-right: calc(var(--mh-unit) * .1);\n     }\n     .pointer {\n        cursor: pointer\n     }\n     .state__value_icon {\n        height: calc(var(--mh-unit) * .475);\n        width: calc(var(--mh-unit) * .5);\n        color: var(--mh-icon-color);\n        --mdc-icon-size: calc(var(--mh-unit) * 0.5);\n     }\n     .state__value {\n        margin: 0 1px;\n        font-weight: var(--mh-info-font-weight);\n        line-height: calc(var(--mh-unit) * .475);\n     }\n     .state__uom {\n        font-size: calc(var(--mh-unit) * .275);\n        line-height: calc(var(--mh-unit) * .525);\n        margin-left: 1px;\n        height: calc(var(--mh-unit) * .475);\n        opacity: 0.8;\n     }\n    "])))}}customElements.define("mh-indicators",tb);class ub extends Za{constructor(){super(),this._isOn=!1,this.timer=void 0}static get properties(){return{button:{type:Object}}}handleToggle(a){var b=this;a.stopPropagation(),this._isOn=!this._isOn;var{lastChanged:c}=this.button,{lastUpdated:d}=this.button;this.button.handleToggle(),clearTimeout(this.timer);var e=this;return this.timer=setTimeout(f(function*(){var{button:a}=e,f=c!==a.lastChanged||d!==a.lastUpdated;if(!1===f)return b._isOn=b.button.isOn,b.requestUpdate("_isOn")}),this.button.actionTimeout),this.requestUpdate("_isOn")}render(){return clearTimeout(this.timer),za(s||(s=d(["\n       <ha-icon-button\n         style=","\n         .icon=","\n         @click=","\n         ?disabled=\"","\"\n         ?color=",">\n        </ha-icon-button>\n    "])),db(this.button.style),this.button.icon,a=>this.handleToggle(a),this.button.disabled||this.button.isUnavailable,this._isOn)}updated(a){if(a.has("button"))return this._isOn=this.button.isOn,clearTimeout(this.timer),this.requestUpdate("_isOn")}static get styles(){return[fb,Xa(t||(t=d(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n        --paper-item-min-height: var(--mh-unit);\n        --mh-dropdown-unit: var(--mh-unit);\n      }\n      :host([color]) {\n        background: var(--mh-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n    "])))]}}customElements.define("mh-button",ub);class vb extends Za{static get properties(){return{buttons:{}}}renderButton(a){return a.isUnavailable?"":za(u||(u=d(["\n       <mh-button\n         class=\"custom-button\"\n         .button=",">\n        </mh-button>\n    "])),a)}renderDropdown(a){return za(v||(v=d(["\n      <mh-dropdown\n        .dropdown=",">\n      </mh-dropdown>\n    "])),a)}renderInternal(a){return"dropdown"===a.type?this.renderDropdown(a):this.renderButton(a)}render(){var a=this;return za(w||(w=d(["",""])),Object.entries(this.buttons).map(a=>a[1]).filter(a=>!a.hide).sort((c,a)=>c.order>a.order?1:a.order>c.order?-1:0).map(b=>a.renderInternal(b)))}static get styles(){return[fb,Xa(x||(x=d(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n        --paper-item-min-height: var(--mh-unit);\n        --mh-dropdown-unit: var(--mh-unit);\n      }\n      :host([color]) {\n        background: var(--mh-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n    "])))]}}customElements.define("mh-buttons",vb);class wb extends Za{static get properties(){return{targetHumidity:{type:Object},sliderValue:{type:Number}}}constructor(){super(),this.targetHumidity={},this.timer=void 0}handleChange(a){var b=this;a.stopPropagation(),this.sliderValue=a.target.value;var{entity:c}=this.targetHumidity;return this.targetHumidity.handleChange(this.sliderValue),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(f(function*(){if(b.targetHumidity.entity===c)return b.sliderValue=b.targetHumidity.value,b.requestUpdate("sliderValue")}),this.targetHumidity.actionTimeout),this.requestUpdate("sliderValue")}renderState(){return this.targetHumidity.hideIndicator?za(y||(y=d(["<div class=\"mh-target_humidifier__state\"></div>"]))):za(z||(z=d(["\n        <div class=\"mh-target_humidifier__state\">\n           <ha-icon\n             class='state__value_icon'\n             style=","\n             .icon=",">\n           </ha-icon>\n           <span class='state__value ellipsis'>","</span>\n           <span class='state__uom ellipsis'>","</span>\n        </div>\n    "])),db(this.targetHumidity.iconStyle),this.targetHumidity.icon,this.sliderValue,this.targetHumidity.unit)}render(){return za(A||(A=d(["\n      <div class='mh-target_humidifier --slider flex'>\n        <ha-slider\n          @change=","\n          @click=","\n          min=","\n          max=","\n          step=","\n          value=","\n          dir=","\n          ignore-bar-touch pin>\n        </ha-slider>\n        ","\n      </div>"])),a=>this.handleChange(a),a=>a.stopPropagation(),this.targetHumidity.min,this.targetHumidity.max,this.targetHumidity.step,this.sliderValue,"ltr",this.renderState(this.sliderValue))}updated(a){a.has("targetHumidity")&&(this.sliderValue=this.targetHumidity.value)}static get styles(){return Xa(B||(B=d(["\n     :host {\n        position: relative;\n        box-sizing: border-box;\n        min-width: 0;\n        font-weight: var(--mh-info-font-weight);\n      }\n      .mh-target_humidifier.flex {\n        display: flex;\n        flex-direction: column-reverse;\n        align-items: center;\n        height: var(--mh-unit);\n        width: 100%;\n      }\n      .mh-target_humidifier ha-slider {\n        flex: 1;\n        width: 100%;\n        margin-top: calc(var(--mh-unit) * -.35);\n        line-height: normal;\n      }\n      .mh-target_humidifier__state {\n        position: relative;\n        display: flex;\n        flex-wrap: nowrap;\n        margin-top: calc(var(--mh-unit) * -.1);\n        height: calc(var(--mh-unit) * .45);\n     }\n     .state__value_icon {\n        height: calc(var(--mh-unit) * .475);\n        width: calc(var(--mh-unit) * .5);\n        color: var(--mh-icon-color);\n        --mdc-icon-size: calc(var(--mh-unit) * 0.5);\n     }\n     .state__value {\n        font-size: calc(var(--mh-unit) * .35);\n        line-height: calc(var(--mh-unit) * .475);\n        margin: 0px 1px;\n     }\n     .state__uom {\n        font-size: calc(var(--mh-unit) * .275);\n        line-height: calc(var(--mh-unit) * .55);\n        height: calc(var(--mh-unit) * .475);\n        opacity: 0.8;\n     }\n    "])))}}customElements.define("mh-target-humidity",wb);class xb extends Za{constructor(){super(),this._isOn=!1}static get properties(){return{power:{type:Object}}}render(){return this.power.hide?"":"toggle"===this.power.type?za(C||(C=d(["\n          <ha-entity-toggle\n            .stateObj=","\n            .hass=",">\n          </ha-entity-toggle>\n      "])),this.power.entity,this.power.hass):za(D||(D=d(["\n       <mh-button\n         class=\"power-button\"\n         .button=",">\n        </mh-button>\n    "])),this.power)}updated(a){a.has("power")&&(this._isOn=this.power.isOn)}static get styles(){return[fb,Xa(E||(E=d(["\n     :host {\n        position: relative;\n        box-sizing: border-box;\n        min-width: 0;\n        font-weight: var(--mh-info-font-weight);\n      }\n    "])))]}}customElements.define("mh-power",xb);class yb{constructor(a,b,c,d){this.config=b||{},this.entity=a||{},this.humidifier=c||{},this._hass=d,a&&(this._last_changed=a.last_changed,this._last_updated=a.last_updated)}get lastChanged(){return this._last_changed}get lastUpdated(){return this._last_updated}changed(a){var b=a||{},c=this.lastUpdated!==b.last_changed||this.lastChanged!==b.last_updated;return c}get id(){return this.config.id}get hass(){return this._hass}get originalValue(){return ob(this.entity,this.config.source)}get value(){var a=Number.isNaN,b=this.originalValue;return this.config.functions.mapper&&(b=this.config.functions.mapper(b,this.entity,this.humidifier.entity)),"round"in this.config&&!1===a(b)&&""!==b&&(b=pb(b,this.config.round)),b}get unit(){if(this.config.functions.unit&&this.config.functions.unit.template)return this.config.functions.unit.template(this.value,this.entity,this.humidifier.entity);return this.config.unit&&"string"==typeof this.config.unit?this.config.unit:""}get hide(){return this.config.hide}get icon(){if(this.config.functions.icon&&this.config.functions.icon.template)return this.config.functions.icon.template(this.value,this.entity,this.humidifier.entity);return this.config.icon&&"string"==typeof this.config.icon?this.config.icon:""}get iconStyle(){return this.config.functions.icon&&this.config.functions.icon.style?this.config.functions.icon.style(this.value,this.entity,this.humidifier.entity)||{}:{}}}class zb{constructor(a,b,c,d){this.config=b||{},this.entity=a||{},this.humidifier=c||{},this._hass=d||{},a&&(this._last_changed=a.last_changed,this._last_updated=a.last_updated)}get lastChanged(){return this._last_changed}get lastUpdated(){return this._last_updated}changed(a){var b=a||{},c=this.lastChanged!==b.last_changed||this.lastUpdated!==b.last_updated;return c}get id(){return this.config.id}get hass(){return this._hass}get type(){return this.config.type}get order(){return this.config.order}get hide(){return this.config.hide}get icon(){return this.config.icon}get originalState(){return ob(this.entity,this.config.state)}get state(){var a=this.originalState;return this.config.functions.state&&this.config.functions.state.mapper&&(a=this.config.functions.state.mapper(a,this.entity,this.humidifier.entity)),a}isActive(a){return!!this.config.functions.active&&this.config.functions.active(a,this.entity,this.humidifier.entity)}get isUnavailable(){return this.entity===void 0||jb.includes(this.state)}get isOff(){return this.entity!==void 0&&ib.includes(this.state)&&!jb.includes(this.state)}get isOn(){return this.entity!==void 0&&!ib.includes(this.state)&&!jb.includes(this.state)}get disabled(){return!!this.config.functions.disabled&&this.config.functions.disabled(this.state,this.entity,this.humidifier.entity)}get style(){return this.config.functions.style?this.config.functions.style(this.state,this.entity,this.humidifier.entity)||{}:{}}get source(){var a,{functions:b}=this.config;return a=b&&b.source&&b.source.__init?b.source.__init(this.entity,this.config):Object.entries(this.config.source||{}).filter(a=>"__filter"!==a[0]).map(a=>({id:a[0],name:a[1]})),this.config.functions.source&&this.config.functions.source.filter?this.config.functions.source.filter(a,this.state,this.entity,this.humidifier.entity):a}get selected(){var{state:a}=this;if(void 0!==a&&null!==a){var b=a.toString().toUpperCase(),c=this.source.find(a=>a.id.toString().toUpperCase()===b);return c}}get actionTimeout(){return"action_timeout"in this.config?this.config.action_timeout:kb}handleToggle(){return this.config.functions.toggle_action?this.config.functions.toggle_action(this.state,this.entity,this.humidifier.entity):this.humidifier.callService("switch","toggle",{entity_id:this.entity.entity_id})}handleChange(a){return this.config.functions.change_action?this.config.functions.change_action(a,this.state,this.entity,this.humidifier.entity):void 0}}class Ab{constructor(a,b,c){this.entity=a||{},this.config=b,this.humidifier=c}get min(){return this.config.target_humidity.min}get max(){return this.config.target_humidity.max}get step(){return this.config.target_humidity.step}get originalValue(){return ob(this.entity,this.config.target_humidity.state)}get value(){var a=this.originalValue;return this.config.target_humidity.functions.state&&this.config.target_humidity.functions.state.mapper?this.config.target_humidity.functions.state.mapper(a,this.entity,this.humidifier.entity):a}get icon(){var a=this.config.target_humidity;if(a.functions.icon.template)return a.functions.icon.template(this.value,this.entity,this.humidifier.entity);return a.icon&&"string"==typeof a.icon?a.icon:""}get iconStyle(){var a=this.config.target_humidity;return a.functions.icon&&a.functions.icon.style?a.functions.icon.style(this.value,this.entity,this.humidifier.entity)||{}:{}}get hide(){return this.config.target_humidity.hide}get hideIndicator(){return this.config.target_humidity.hide_indicator}get unit(){return this.config.target_humidity.unit}get actionTimeout(){return"action_timeout"in this.config.target_humidity?this.config.target_humidity.action_timeout:kb}handleChange(a){return this.config.target_humidity.functions.change_action?this.config.target_humidity.functions.change_action(a,this.value,this.entity,this.humidifier.entity):void 0}}class Bb{constructor(a,c,d){this.hass=a||{},this.config=c||{},this.entity=d||{},this.state=d.state,this.attr=b({friendly_name:"",depth:0,target_humidity:0,mode:"",dry:!1,buzzer:!1,child_lock:!1,led_brightness:0},d.attributes||{}),d&&(this._last_changed=d.last_changed,this._last_updated=d.last_updated)}get lastChanged(){return this._last_changed}get lastUpdated(){return this._last_updated}changed(a){var b=a||{},c=this.lastChanged!==b.last_changed||this.lastUpdated!==b.last_updated;return c}get id(){return this.entity.entity_id}get icon(){return this.attr.icon}get name(){return this.attr.friendly_name||""}get isOff(){return this.entity!==void 0&&ib.includes(this.state)&&!jb.includes(this.state)}get isActive(){return!1===this.isOff&&!1===this.isUnavailable||!1}get isUnavailable(){return this.entity===void 0||jb.includes(this.state)}get isOn(){return this.entity!==void 0&&!ib.includes(this.state)&&!jb.includes(this.state)}callService(a,b,c){return this.hass.callService(a,b,c)}}var Cb=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"unknown",d=a.selectedLanguage||a.language,e=a.resources[d];return e&&e[b]?e[b]:c};console.info("%c MINI-HUMIDIFIER-CARD %c ".concat("v2.5.2"," "),"color: white; background: coral; font-weight: 700;","color: coral; background: white; font-weight: 700;");var Db=()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("humidifier",c,d)}},target_humidity:{icon:hb.HUMIDITY,unit:"%",min:30,max:80,step:10,hide:!1,hide_indicator:!1,state:{attribute:"humidity",mapper:a=>a===NaN||void 0===a||"unknown"===a?80:a},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,humidity:a};return this.call_service("humidifier","set_humidity",d)}},indicators:{water_level:{tap_action:"more-info",default_icon:hb.WATERLEVEL,detached_icon:hb.WATERTANKDETACHED,icon:{template:a=>""===a?this.detached_icon:this.default_icon},unit:{template:a=>{if(""===a)return"";var{type:b}=this;return this.localize("zhimi_humidifier_cb1.water_level.".concat(b),"%")}},round:0,order:0,volume:4,type:"percent",hide:!1,source:{entity:"sensor.{entity_id}_water_level",mapper:a=>a===NaN||void 0===a||"unknown"===a?"":"liters"===this.type?a*this.volume/100:a}},temperature:{tap_action:"more-info",icon:hb.TEMPERATURE,unit:"\xB0C",round:1,order:1,hide:!1,source:{entity:"sensor.{entity_id}_temperature"}},humidity:{tap_action:"more-info",icon:hb.HUMIDITY,unit:"%",round:1,order:2,hide:!1,source:{entity:"sensor.{entity_id}_humidity"}},motor_speed:{tap_action:"more-info",icon:hb.MOTORSPEED,unit:"rpm",round:0,order:3,hide:!1,source:{entity:"sensor.{entity_id}_motor_speed"}}},buttons:{dry:{icon:hb.DRY,hide:!1,order:0,state:{entity:"switch.{entity_id}_dry_mode"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}},mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:1,source:{__init:a=>{var b=a.attributes.available_modes||[];return b.map(a=>({id:a,name:this.localize("zhimi_humidifier_cb1.mode.".concat(a))}))}},active:(a,b)=>"off"!==b.state,state:{attribute:"mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,mode:a};return this.call_service("humidifier","set_mode",d)}},led:{icon:hb.LEDBUTTON,type:"dropdown",hide:!1,order:2,active:a=>"off"!==a,source:{bright:"Bright",dim:"Dim",off:"Off",__filter:a=>a.map(a=>{var b=this.localize("zhimi_humidifier_cb1.led_brightness.".concat(a.id),a.name);return{id:a.id,name:b}})},state:{entity:"select.{entity_id}_led_brightness"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,option:a};return this.call_service("select","select_option",d)}},buzzer:{icon:hb.BUZZER,hide:!1,order:3,state:{entity:"switch.{entity_id}_buzzer"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}},child_lock:{icon:hb.CHILDLOCK,hide:!1,order:4,state:{entity:"switch.{entity_id}_child_lock"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}}}}),Eb=()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("fan",c,d)}},target_humidity:{icon:hb.HUMIDITY,unit:"%",min:30,max:80,step:1,hide:!1,hide_indicator:!1,state:{attribute:"target_humidity"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,humidity:a};return this.call_service("xiaomi_miio_airpurifier","fan_set_target_humidity",d)}},indicators:{temperature:{icon:hb.TEMPERATURE,unit:"\xB0C",round:1,order:1,hide:!1,source:{attribute:"temperature"}},humidity:{icon:hb.HUMIDITY,unit:"%",round:1,order:2,hide:!1,source:{attribute:"humidity"}},status:{icon:hb.TANK,order:3,empty:"Empty",filled:"Filled",source:{attribute:"no_water",mapper:a=>a?this.empty:this.filled}}},buttons:{mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:1,source:{humidity:"auto",low:"low",medium:"medium",high:"high"},active:(a,b)=>"off"!==b.state,state:{attribute:"mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,speed:a};return this.call_service("fan","set_speed",d)}},led:{icon:hb.LEDBUTTON,type:"button",hide:!1,order:2,state:{attribute:"led",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_led_off":"fan_set_led_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},buzzer:{icon:hb.BUZZER,hide:!1,type:"button",order:3,state:{attribute:"buzzer",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_buzzer_off":"fan_set_buzzer_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}}}}),Fb={default:Db,"zhimi.humidifier.cb1":Db,"zhimi.humidifier.ca1":Db,"zhimi.humidifier.ca4":Db,"zhimi.airpurifier.ma2":()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("fan",c,d)}},target_humidity:{unit:"",min:0,max:14,step:1,state:{entity:"number.{entity_id}_favorite_level"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,value:a};return this.call_service("number","set_value",d)}},indicators:{aqi:{hide:!1,order:0,levels:{good:{min:0,max:50,color:"#1CC09B"},moderate:{min:51,max:100,color:"#FFDE33"},unhealthy_sensitive_groups:{min:101,max:150,color:"#F88B48"},unhealthy:{min:151,max:200,color:"#E64650"},very_unhealthy:{min:201,max:300,color:"#660099"},hazardous:{min:301,max:1e5,color:"#7E0023"}},icon:{template:()=>"mdi:checkbox-blank-circle",style:a=>{for(var b,c={"--mdc-icon-size":"17px","margin-top":"1px"},d=+a,e=Object.entries(this.levels||{}),f=0;f<e.length;f+=1)b=e[f][1]||{},d>=b.min&&d<=b.max&&(c.color=b.color);return c}},unit:"\u03BCg/m\xB3",round:0,source:{entity:"sensor.{entity_id}_pm2_5"}},temperature:{icon:hb.TEMPERATURE,hide:!1,order:1,unit:"\xB0C",round:1,source:{entity:"sensor.{entity_id}_temperature"}},humidity:{icon:hb.HUMIDITY,hide:!1,order:2,unit:"%",round:1,source:{entity:"sensor.{entity_id}_humidity"}},motor_speed:{icon:hb.RPM,hide:!1,order:3,unit:"rpm",round:0,source:{entity:"sensor.{entity_id}_motor_speed"}},filter_use:{icon:hb.CLOCK,hide:!1,order:4,unit:"h",round:0,source:{entity:"sensor.{entity_id}_filter_use"}}},buttons:{mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:0,source:{__init:a=>{var b=a.attributes.preset_modes||[];return b.map(a=>({id:a,name:this.localize("zhimi_airpurifier_ma2.mode.".concat(a))}))}},active:(a,b)=>"off"!==b.state,state:{attribute:"preset_mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,preset_mode:a};return this.call_service("fan","set_preset_mode",d)}},led:{icon:hb.LEDBUTTON,hide:!1,order:1,state:{entity:"switch.{entity_id}_led"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}},buzzer:{icon:hb.BUZZER,hide:!1,order:2,state:{entity:"switch.{entity_id}_buzzer"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}},child_lock:{icon:hb.CHILDLOCK,hide:!1,order:3,state:{entity:"switch.{entity_id}_child_lock"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}}}}),"zhimi.airfresh.va2":()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("fan",c,d)}},target_humidity:{unit:"%",min:1,max:100,step:1,state:{attribute:"percentage"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,percentage:a};return this.call_service("fan","set_percentage",d)}},indicators:{aqi:{round:0,order:0,hide:!1,levels:{good:{min:0,max:50,color:"#1CC09B"},moderate:{min:51,max:100,color:"#FFDE33"},unhealthy_sensitive_groups:{min:101,max:150,color:"#F88B48"},unhealthy:{min:151,max:200,color:"#E64650"},very_unhealthy:{min:201,max:300,color:"#660099"},hazardous:{min:301,max:1e5,color:"#7E0023"}},icon:{template:()=>"mdi:checkbox-blank-circle",style:a=>{for(var b,c={"--mdc-icon-size":"17px","margin-top":"1px"},d=+a,e=Object.entries(this.levels||{}),f=0;f<e.length;f+=1)b=e[f][1]||{},d>=b.min&&d<=b.max&&(c.color=b.color);return c}},unit:"\u03BCg/m\xB3",source:{entity:"sensor.{entity_id}_pm2_5"}},temperature:{icon:hb.TEMPERATURE,unit:"\xB0C",round:1,order:1,hide:!1,source:{entity:"sensor.{entity_id}_temperature"}},humidity:{icon:hb.HUMIDITY,unit:"%",round:1,order:2,hide:!1,source:{entity:"sensor.{entity_id}_humidity"}},motor_speed:{icon:hb.RPM,unit:"rpm",round:0,order:3,hide:!0,source:{attribute:"motor_speed"}},co2:{icon:hb.CO2,unit:"ppm",round:0,order:4,hide:!1,source:{entity:"sensor.{entity_id}_carbon_dioxide"}},filter_use:{icon:hb.CLOCK,unit:"h",round:0,order:5,hide:!1,source:{entity:"sensor.{entity_id}_filter_use"}}},buttons:{mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:0,source:{__init:a=>{var b=a.attributes.speed_list||[];return b.map(a=>({id:a,name:this.localize("zhimi_airfresh_va2.mode.".concat(a))}))}},active:(a,b)=>"off"!==b.state,state:{attribute:"mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,speed:a};return this.call_service("fan","set_speed",d)}},led:{icon:hb.LEDBUTTON,type:"dropdown",hide:!1,order:1,source:{bright:"Bright",dim:"Dim",off:"Off"},state:{entity:"select.{entity_id}_led_brightness"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,option:a};return this.call_service("select","select_option",d)}},buzzer:{icon:hb.BUZZER,hide:!1,order:2,state:{entity:"switch.{entity_id}_buzzer"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}},child_lock:{icon:hb.CHILDLOCK,hide:!1,order:3,state:{entity:"switch.{entity_id}_child_lock"},toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("switch",c,d)}}}}),"xiaomi_miio_airpurifier:zhimi.humidifier.cb1":()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("fan",c,d)}},target_humidity:{icon:hb.HUMIDITY,unit:"%",min:30,max:80,step:10,hide:!1,hide_indicator:!1,state:{attribute:"target_humidity"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,humidity:a};return this.call_service("xiaomi_miio_airpurifier","fan_set_target_humidity",d)}},indicators:{depth:{default_icon:hb.DEPTH,detached_icon:hb.WATERTANKDETACHED,icon:{template:a=>""===a?this.detached_icon:this.default_icon},unit:{template:a=>{if(""===a)return"";var{type:b}=this;return this.localize("zhimi_humidifier_cb1.water_level.".concat(b),"%")}},round:0,order:0,max_value:125,volume:4,type:"percent",hide:!1,source:{attribute:"depth",mapper:a=>{if(127===a)return"";var b=100*(a||0)/this.max_value;return"liters"===this.type?b*this.volume/100:b}}},temperature:{icon:hb.TEMPERATURE,unit:"\xB0C",round:1,order:1,hide:!1,source:{attribute:"temperature"}},humidity:{icon:hb.HUMIDITY,unit:"%",round:1,order:2,hide:!1,source:{attribute:"humidity"}},motor_speed:{icon:hb.MOTORSPEED,unit:"rpm",round:0,order:3,hide:!1,source:{attribute:"motor_speed"}}},buttons:{dry:{icon:hb.DRY,hide:!1,order:0,state:{attribute:"dry",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_dry_off":"fan_set_dry_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:1,source:{__init:a=>{var b=a.attributes.preset_modes||[];return b.map(a=>({id:a,name:this.localize("zhimi_humidifier_cb1.mode.".concat(a))}))}},active:(a,b)=>"off"!==b.state,disabled:(a,b)=>0===b.attributes.depth,state:{attribute:"preset_mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,preset_mode:a};return this.call_service("fan","set_preset_mode",d)}},led:{icon:hb.LEDBUTTON,type:"dropdown",hide:!1,order:2,active:a=>2!==a&&"2"!==a,source:{0:"Bright",1:"Dim",2:"Off",__filter:a=>a.map(a=>{var b=this.localize("zhimi_humidifier_cb1.led_brightness.".concat(a.id),a.name);return{id:a.id,name:b}})},state:{attribute:"led_brightness"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,brightness:a};return this.call_service("xiaomi_miio_airpurifier","fan_set_led_brightness",d)}},buzzer:{icon:hb.BUZZER,hide:!1,order:3,state:{attribute:"buzzer",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_buzzer_off":"fan_set_buzzer_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},child_lock:{icon:hb.CHILDLOCK,hide:!1,order:4,state:{attribute:"child_lock",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_child_lock_off":"fan_set_child_lock_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}}}}),"xiaomi_miio_airpurifier:zhimi.humidifier.ca4":()=>({power:{icon:hb.POWER,type:"button",hide:!1,toggle_action:(a,b)=>{var c="on"===a?"turn_off":"turn_on",d={entity_id:b.entity_id};return this.call_service("fan",c,d)}},target_humidity:{icon:hb.HUMIDITY,unit:"%",min:30,max:80,step:10,hide:!1,hide_indicator:!1,state:{attribute:"target_humidity"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,humidity:a};return this.call_service("xiaomi_miio_airpurifier","fan_set_target_humidity",d)}},indicators:{water_level:{icon:hb.DEPTH,unit:"%",round:0,order:0,hide:!1,source:{attribute:"water_level"}},temperature:{icon:hb.TEMPERATURE,unit:"\xB0C",round:1,order:1,hide:!1,source:{attribute:"temperature"}},humidity:{icon:hb.HUMIDITY,unit:"%",round:1,order:2,hide:!1,source:{attribute:"humidity"}},motor_speed:{icon:hb.RPM,unit:"rpm",round:0,order:3,hide:!1,source:{attribute:"motor_speed"}}},buttons:{dry:{icon:hb.DRY,hide:!1,order:0,state:{attribute:"dry",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_dry_off":"fan_set_dry_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},mode:{icon:hb.FAN,type:"dropdown",hide:!1,order:1,source:{Auto:"auto",Low:"low",Mid:"medium",High:"high"},active:(a,b)=>"off"!==b.state,disabled:(a,b)=>0===b.attributes.water_level,state:{attribute:"preset_mode"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,preset_mode:a};return this.call_service("fan","set_preset_mode",d)}},led:{icon:hb.LEDBUTTON,type:"dropdown",hide:!1,order:2,active:a=>0!==a&&"0"!==a,source:{0:"Off",1:"Dim",2:"Bright"},state:{attribute:"led_brightness"},change_action:(a,b,c)=>{var d={entity_id:c.entity_id,brightness:a};return this.call_service("xiaomi_miio_airpurifier","fan_set_led_brightness",d)}},buzzer:{icon:hb.BUZZER,hide:!1,order:3,state:{attribute:"buzzer",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_buzzer_off":"fan_set_buzzer_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},child_lock:{icon:hb.CHILDLOCK,hide:!1,order:4,state:{attribute:"child_lock",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c="on"===a?"fan_set_child_lock_off":"fan_set_child_lock_on",d={entity_id:b.entity_id};return this.call_service("xiaomi_miio_airpurifier",c,d)}},clean:{icon:hb.DISHWASHER,hide:!1,order:5,state:{attribute:"clean_mode",mapper:a=>a?"on":"off"},toggle_action:(a,b)=>{var c=b.attributes.clean_mode,d=b.attributes.preset_mode,e={entity_id:b.entity_id};return c?(e.preset_mode=d,this.call_service("fan","set_preset_mode",e)):this.call_service("xiaomi_miio_airpurifier","fan_set_clean_mode_on",e)}}}}),"xiaomi_miio_airpurifier:deerma.humidifier.mjjsq":Eb,"deerma.humidifier.mjjsq":Eb},Gb={mode:{auto:"Auto",silent:"Silent",medium:"Medium",high:"High"},led_brightness:{0:"Bright",1:"Dim",2:"Off",bright:"Bright",dim:"Dim",off:"Off"},water_level:{liters:"L",percent:"%"},depth:{liters:"L",percent:"%"}},Hb={mode:{off:"Off",low:"Low",medium:"Medium",high:"High",auto:"Auto",interval:"Interval"}},Ib={mode:{auto:"Auto",silent:"Silent",favorite:"Favorite",idle:"Idle"}},Jb=Object.freeze({__proto__:null,zhimi_humidifier_cb1:Gb,zhimi_airfresh_va2:Hb,zhimi_airpurifier_ma2:Ib,default:{zhimi_humidifier_cb1:Gb,zhimi_airfresh_va2:Hb,zhimi_airpurifier_ma2:Ib}}),Kb={led_brightness:{0:"\u042F\u0440\u043A\u043E",1:"\u0422\u0443\u0441\u043A\u043B\u043E",2:"\u0412\u044B\u043A\u043B.",bright:"\u042F\u0440\u043A\u043E",dim:"\u0422\u0443\u0441\u043A\u043B\u043E",off:"\u041E\u0442\u043A\u043B."},mode:{auto:"\u0410\u0432\u0442\u043E",silent:"\u0422\u0438\u0445\u0438\u0439",medium:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",high:"\u0421\u0438\u043B\u044C\u043D\u044B\u0439"},water_level:{liters:"\u041B",percent:"%"},depth:{liters:"\u041B",percent:"%"}},Lb={mode:{off:"\u041E\u0442\u043A\u043B.",low:"\u0421\u043B\u0430\u0431\u044B\u0439",medium:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",high:"\u0421\u0438\u043B\u044C\u043D\u044B\u0439",auto:"\u0410\u0432\u0442\u043E",silent:"\u041D\u043E\u0447\u043D\u043E\u0439",interval:"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}},Mb={mode:{auto:"\u0410\u0432\u0442\u043E",silent:"\u0422\u0438\u0445\u0438\u0439",favorite:"\u0417\u0430\u0434\u0430\u043D\u043D\u044B\u0439",idle:"\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"}},Nb=Object.freeze({__proto__:null,zhimi_humidifier_cb1:Kb,zhimi_airfresh_va2:Lb,zhimi_airpurifier_ma2:Mb,default:{zhimi_humidifier_cb1:Kb,zhimi_airfresh_va2:Lb,zhimi_airpurifier_ma2:Mb}}),Ob={en:Jb,ru:Nb},Pb=(a,b)=>{if(a&&b){var c=b.toUpperCase(),d=Object.entries(a||{}).find(a=>a[0].toUpperCase()===c);return d?d[1]:void 0}},Qb=function(a,b){var c,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"unknown",e=a.split(".");try{c=Ob[b];for(var f,g=0;g<e.length;g++)f=e[g],c=Pb(c,f)}catch(a){return d}return void 0===c?d:"string"==typeof c?c:d};customElements.get("ha-slider")||customElements.define("ha-slider",class extends customElements.get("paper-slider"){}),customElements.get("ha-icon-button")||customElements.define("ha-icon-button",class extends customElements.get("paper-icon-button"){});class Rb extends Za{constructor(){super(),this.initial=!0,this.toggle=!1,this.indicators={},this.buttons={},this.targetHumidity={},this.power={},this.config={},this.updateIndicatorsTimer=void 0,this.updateButtonsTimer=void 0}static get properties(){return{config:{},entity:{},humidifier:{},initial:Boolean,toggle:Boolean}}static get styles(){return[fb,eb]}set hass(a){if(a){var b=a.states[this.config.entity],c=!1;this._hass=a,b&&(!this.humidifier||this.humidifier.changed(b))&&(this.entity=b,this.humidifier=new Bb(a,this.config,b),c=!0),this.humidifier&&(this.updateIndicators(c),this.updateButtons(c),this.updateTargetHumidity(c),this.updatePower(c))}}get hass(){return this._hass}get name(){return this.config.name||this.humidifier.name}evalEntityId(a){if(a){var b=this.config.entity&&this.config.entity.split(".")[1].toLowerCase();return a.replaceAll("{entity_id}",b)}return a}updateIndicators(a){for(var b=this,c={},d=!1,e=0;e<this.config.indicators.length;e+=1){var g=this.config.indicators[e],{id:h}=g,j=this.evalEntityId(g.source.entity||this.humidifier.id),k=this.hass.states[j];k&&(c[h]=new yb(k,g,this.humidifier,this.hass)),this.indicators[h]&&this.indicators[h].changed(k)&&(d=!0)}(d||a)&&(this.indicators=c,clearTimeout(this.updateIndicatorsTimer),this.updateIndicatorsTimer=setTimeout(f(function*(){return b.requestUpdate("indicators")}),500))}updateButtons(a){for(var b=this,c={},d=!1,e=0;e<this.config.buttons.length;e+=1){var g=this.config.buttons[e],{id:h}=g,j=this.evalEntityId(g.state&&g.state.entity||this.humidifier.id),k=this.hass.states[j];k&&(c[h]=new zb(k,g,this.humidifier,this.hass)),this.buttons[h]&&this.buttons[h].changed(k)&&(d=!0)}(d||a)&&(this.buttons=c,clearTimeout(this.updateButtonsTimer),this.updateButtonsTimer=setTimeout(f(function*(){return b.requestUpdate("buttons")}),500))}updatePower(a){var b=this.config.power,c=this.evalEntityId(b.state&&b.state.entity||this.humidifier.id),d=this.hass.states[c],e=d?new zb(d,b,this.humidifier,this.hass):{};(d!==(this.power&&this.power.entity)||a)&&(this.power=e)}updateTargetHumidity(a){var b=this.evalEntityId(this.config.target_humidity.state&&this.config.target_humidity.state.entity||this.config.entity),c=this.hass.states[b],d=new Ab(c,this.config,this.humidifier);(this.targetHumidity.value!==d.value||a)&&(this.targetHumidity=d)}getIndicatorConfig(a,c,d){var e=b({id:a,source:{enitity:void 0,attribute:void 0,mapper:void 0},icon:""},c);e.tap_action="string"==typeof c.tap_action?{action:c.tap_action}:b({action:"none"},e.tap_action||{}),e.functions=e.functions||{};var f=b({},c);return f.entity_config=d,f.toggle_state=nb,f.localize=(a,b)=>{var c=this.hass.selectedLanguage||this.hass.language||"en";return Qb(a,c,b)},e.source.mapper&&(e.functions.mapper=qb(e.source.mapper,f)),"object"==typeof e.icon&&(e.functions.icon={},e.icon.template&&(e.functions.icon.template=qb(e.icon.template,f)),e.icon.style&&(e.functions.icon.style=qb(e.icon.style,f))),"object"==typeof e.unit&&(e.functions.unit={},e.unit.template&&(e.functions.unit.template=qb(e.unit.template,f))),e}getIndicatorsConfig(a,c){for(var d=c||{},e=Object.entries(a.indicators||{}),f=0;f<e.length;f+=1){var g=e[f][0],h=e[f][1]||{};d[g]=b(b({},d[g]||{}),h)}return Object.entries(d).map(b=>this.getIndicatorConfig(b[0],b[1],a)).filter(a=>!a.hide)}getButtonConfig(a,c){var d=b({icon:"mdi:radiobox-marked",type:"button",toggle_action:void 0},a);d.functions={};var e=b({},a);return e.call_service=(a,b,c)=>this.hass.callService(a,b,c),e.entity_config=c,e.toggle_state=nb,e.localize=(a,b)=>{var c=this.hass.selectedLanguage||this.hass.language||"en";return Qb(a,c,b)},d.disabled&&(d.functions.disabled=qb(d.disabled,e)),d.state&&d.state.mapper&&(d.functions.state={mapper:qb(d.state.mapper,e)}),d.active&&(d.functions.active=qb(d.active,e)),d.source&&d.source.__init&&(d.functions.source={__init:qb(d.source.__init,e)}),d.source&&d.source.__filter&&(d.functions.source=d.functions.source||{},d.functions.source.filter=qb(d.source.__filter,e)),d.toggle_action&&(d.functions.toggle_action=qb(d.toggle_action,e)),d.change_action&&(d.functions.change_action=qb(d.change_action,e)),d.style&&(d.functions.style=qb(d.style,e)),d}getButtonsConfig(a,c){for(var d=b({},c||{}),e=Object.entries(a.buttons||{}),f=0;f<e.length;f+=1){var g=e[f][0],h=e[f][1]||{};d[g]=b(b({},d[g]||{}),h)}for(var j=Object.entries(d),k=[],l=0;l<j.length;l+=1){var m=j[l][0],n=j[l][1],o=this.getButtonConfig(n,a);o.id=m,"order"in o||(o.order=l+1),k.push(o)}return k}getTargetHumidityConfig(a,c){var d=b(b({},c||{}),a.target_humidity||{});d.functions={icon:{}};var e=b({},a.target_humidity||{});return e.call_service=(a,b,c)=>this.hass.callService(a,b,c),e.entity_config=a,e.toggle_state=nb,e.localize=(a,b)=>{var c=this.hass.selectedLanguage||this.hass.language||"en";return Qb(a,c,b)},"object"==typeof d.icon&&(d.icon.template&&(d.functions.icon.template=qb(d.icon.template,e)),d.icon.style&&(d.functions.icon.style=qb(d.icon.style,e))),d.change_action&&(d.functions.change_action=qb(d.change_action,e)),d.state&&d.state.mapper&&(d.functions.state={mapper:qb(d.state.mapper,e)}),d}getPowerConfig(a,c){return this.getButtonConfig(b(b({},c||{}),a.power||{}),a)}setConfig(a){var c=a.entity&&a.entity.split(".")[0].toLowerCase();if(!1===mb.includes(c))throw new Error("Specify an entity from within ".concat(mb.join(" ,")," domains."));var d,{model:e}=a;d=e in Fb?Fb[e]():Fb.default(),this.config=b({model:"zhimi.humidifier.cb1",tap_action:{action:"more-info",navigation_path:"",url:"",entity:"",service:"",service_data:{}}},a),this.config.toggle=b({icon:hb.TOGGLE,hide:!1,default:!1},a.toggle||{}),this.config.power=this.getPowerConfig(a,d.power),this.config.target_humidity=this.getTargetHumidityConfig(a,d.target_humidity),this.config.indicators=this.getIndicatorsConfig(a,d.indicators),this.config.buttons=this.getButtonsConfig(a,d.buttons),this.config.secondary_info="string"==typeof a.secondary_info?{type:a.secondary_info}:b({type:"mode"},a.secondary_info||{}),this.toggle=this.config.toggle.default}render(){var a=this.config.target_humidity.hide?"full":"";return za(F||(F=d(["\n      <ha-card\n        class=","\n        style=",">\n        <div class='mh__bg'>\n        </div>\n        <div class='mh-humidifier'>\n          <div class='mh-humidifier__core flex'>\n            ","\n            <div class='entity__info'>\n              <div class=\"wrap\">\n                <div class=\"entity__info__name_wrap ","\" \n                  @click=",">\n                  ","\n                </div>\n                <div class=\"ctl-wrap\">\n                  ","\n                  ","\n                  ","\n                </div>\n              </div>\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </ha-card>\n    "])),this.computeClasses(),this.computeStyles(),this.renderIcon(),a,a=>this.handlePopup(a),this.renderEntityName(),this.renderUnavailable(),this.renderTargetHumidifier(),this.renderPower(),this.renderBottomPanel(),this.renderTogglePanel())}renderTargetHumidifier(){return this.humidifier.isUnavailable||this.targetHumidity.hide?"":za(G||(G=d(["\n      <mh-target-humidity\n        .targetHumidity=",">\n      </mh-target-humidity>\n    "])),this.targetHumidity)}renderPower(){return this.humidifier.isUnavailable||this.power.hide?"":za(H||(H=d(["\n        <mh-power\n          .power=",">\n        </mh-power>\n    "])),this.power)}renderUnavailable(){return this.humidifier.isUnavailable?za(I||(I=d(["\n        <span class=\"label unavailable ellipsis\">        \n          ","\n        </span>\n      "])),Cb(this.hass,"state.default.unavailable","Unavailable")):""}handlePopup(a){a.stopPropagation(),gb(this,this.hass,this.config.tap_action,this.humidifier.id)}handleToggle(a){a.stopPropagation(),this.toggle=!this.toggle}renderIcon(){var a=this.humidifier.isActive;return za(J||(J=d(["\n      <div class='entity__icon' ?color=",">\n        <ha-icon .icon="," ></ha-icon>\n      </div>"])),a,this.computeIcon())}renderTogglePanel(){return this.toggle?za(K||(K=d(["\n        <div class=\"mh-toggle_content\">\n          <mh-buttons\n            .buttons=",">\n          </mh-buttons>\n        </div>\n    "])),this.buttons):""}renderBottomPanel(){return this.humidifier.isUnavailable?"":za(L||(L=d(["\n        <div class='bottom flex'>\n          <mh-indicators\n            .indicators=",">\n          </mh-indicators>\n          ","\n        </div>\n    "])),this.indicators,this.renderToggleButton())}renderToggleButton(){if(0===this.config.buttons.filter(a=>!a.hide).length)return"";if(this.config.toggle.hide)return"";var a=this.toggle?"open":"";return za(M||(M=d(["\n        <ha-icon-button class='toggle-button ","'\n          .icon=","\n          @click=",">\n        </ha-icon-button>\n    "])),a,this.config.toggle.icon,a=>this.handleToggle(a))}renderEntityName(){return za(N||(N=d(["\n      <div class='entity__info__name'>\n        ","\n      </div>\n     ","\n    "])),this.name,this.renderSecondaryInfo())}renderSecondaryInfo(){if(this.humidifier.isUnavailable)return"";if(this.config.secondary_info.hide)return"";if("last-changed"===this.config.secondary_info.type)return za(O||(O=d(["\n      <div class='entity__secondary_info ellipsis'>\n            <ha-relative-time\n              .hass=","\n              .datetime=",">\n            </ha-relative-time>\n      </div>\n    "])),this.hass,this.entity.last_changed);var{mode:a}=this.buttons,{selected:b}=a,c=b?b.name:a.state,e=this.config.secondary_info.icon?this.config.secondary_info.icon:a.icon;return za(P||(P=d(["\n      <div class='entity__secondary_info ellipsis'>\n         <ha-icon class='entity__secondary_info_icon' .icon=","></ha-icon>\n         <span class='entity__secondary_info__name'>","</span>\n      </div>\n    "])),e,c)}computeIcon(){return this.config.icon?this.config.icon:this.humidifier.icon||hb.DEFAULT}computeClasses(){var{config:a}=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this;return bb({"--initial":this.initial,"--collapse":a.collapse,"--group":a.group,"--more-info":"none"!==a.tap_action,"--inactive":!this.humidifier.isActive,"--unavailable":this.humidifier.isUnavailable})}computeStyles(){var{scale:a}=this.config;return db(b({},a&&{"--mh-unit":"".concat(40*a,"px")}))}}customElements.define("mini-humidifier",Rb)})})();
